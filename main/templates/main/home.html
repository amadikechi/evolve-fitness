{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evolve Fitness - Premium Active Wear</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #ffffff;
            color: #333;
        }
        
        /* Header */
        header {
            background-color: #ffffff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 2rem;
        }
        
        nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2ecc71;
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }
        
        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: #2ecc71;
        }
        
        .username-badge {
            color: #2ecc71;
            font-weight: bold;
            padding: 0.3rem 0.8rem;
            background: #f0f0f0;
            border-radius: 20px;
        }
        
        /* Slideshow */
        .slideshow-container {
            max-width: 1200px;
            margin: 2rem auto;
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        
        .slides {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        
        .slide {
            min-width: 100%;
            position: relative;
        }
        
        .slide img {
            width: 100%;
            height: 500px;
            object-fit: cover;
        }
        
        .slide-content {
            position: absolute;
            bottom: 20%;
            left: 10%;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            padding: 2rem;
            border-radius: 10px;
            max-width: 500px;
        }
        
        .slide-content h2 {
            font-size: 3rem;
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        
        .slide-content p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
        }
        
        .btn {
            display: inline-block;
            padding: 0.8rem 2rem;
            background-color: #2ecc71;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: #27ae60;
        }
        
        /* Slider controls */
        .slider-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.8);
            color: #333;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5rem;
            font-weight: bold;
            z-index: 10;
            transition: all 0.3s;
            border: none;
        }
        
        .slider-btn:hover {
            background-color: #2ecc71;
            color: white;
        }
        
        .prev {
            left: 20px;
        }
        
        .next {
            right: 20px;
        }
        
        .dots-container {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }
        
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .dot.active {
            background-color: #2ecc71;
        }
        
        /* Categories Section */
        .categories {
            max-width: 1200px;
            margin: 4rem auto;
            padding: 0 2rem;
        }
        
        .categories h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 2rem;
        }
        
        .categories h2 span {
            color: #2ecc71;
        }
        
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }
        
        .category-card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            text-decoration: none;
            color: #333;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(46, 204, 113, 0.3);
        }
        
        .category-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .category-card h3 {
            margin-bottom: 0.5rem;
            color: #2ecc71;
        }
        
        .category-card p {
            color: #666;
            font-size: 0.9rem;
        }
        
        /* Category Sections */
        .category-section {
            max-width: 1200px;
            margin: 3rem auto;
            padding: 0 2rem;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .section-header h2 {
            font-size: 2rem;
        }
        
        .section-header h2 span {
            color: #2ecc71;
        }
        
        .view-all-link {
            color: #2ecc71;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .view-all-link:hover {
            color: #27ae60;
        }
        
        /* Products Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(46, 204, 113, 0.2);
        }
        
        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .product-info {
            padding: 1.5rem;
        }
        
        .product-info h3 {
            margin-bottom: 0.5rem;
        }
        
        .product-price {
            font-size: 1.2rem;
            color: #2ecc71;
            font-weight: bold;
            margin: 1rem 0;
        }
        
        /* Featured section */
        .featured {
            max-width: 1200px;
            margin: 4rem auto;
            padding: 0 2rem;
            text-align: center;
        }
        
        .featured h2 {
            font-size: 2rem;
            margin-bottom: 2rem;
            position: relative;
            display: inline-block;
        }
        
        .featured h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background-color: #2ecc71;
        }
        
        .view-all {
            margin-top: 3rem;
        }
        
        /* About section */
        .about-section {
            background-color: #f9f9f9;
            padding: 4rem 2rem;
            text-align: center;
        }
        
        .about-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .about-content h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .about-content p {
            color: #666;
            line-height: 1.8;
        }
        
        /* Footer */
        footer {
            background-color: #333;
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            margin-top: 2rem;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-content h3 {
            color: #2ecc71;
            margin-bottom: 1rem;
        }
        
        .whatsapp-link {
            color: #25D366;
            text-decoration: none;
            font-weight: bold;
        }
        
        .whatsapp-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="{% url 'home' %}" class="logo">
    <img src="{% static 'main/images/logo.png' %}" alt="Evolve Fitness" style="height: 50px;">
</a>
            <ul class="nav-links">
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="{% url 'product_list' %}">Products</a></li>
                <li><a href="{% url 'book_coach' %}">Book Coach</a></li>
                <li><a href="{% url 'contact' %}">Contact</a></li>
                {% if user.is_authenticated %}
                    <li><a href="{% url 'dashboard' %}">Dashboard</a></li>
                    <li><a href="{% url 'logout' %}">Logout</a></li>
                    <li><span class="username-badge">{{ user.username }}</span></li>
                    <li><a href="{% url 'chat' %}">AI Assistant</a></li>
                {% else %}
                <div class="auth-links">
    Don't have an account? <a href="{% url 'signup' %}">Sign Up</a>
</div>
                {% endif %}
            </ul>
        </nav>
    </header>
    
    <!-- Slideshow -->
    <div class="slideshow-container">
        <div class="slides" id="slides">
            {% for slide in slides %}
            <div class="slide">
                <img src="{{ slide.image }}?w=1200&h=600&fit=crop" alt="{{ slide.title|striptags }}">
                <div class="slide-content">
                    <h2>{{ slide.title|safe }}</h2>
                    <p>{{ slide.description }}</p>
                    <a href="{{ slide.button_link }}" class="btn">{{ slide.button_text }}</a>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <button class="slider-btn prev" onclick="changeSlide(-1)">‚ùÆ</button>
        <button class="slider-btn next" onclick="changeSlide(1)">‚ùØ</button>
        
        <div class="dots-container" id="dots">
            {% for slide in slides %}
            <span class="dot {% if forloop.first %}active{% endif %}" onclick="currentSlide({{ forloop.counter0 }})"></span>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categories Section -->
    <section class="categories">
        <h2>Shop by <span>Category</span></h2>
        <div class="category-grid">
            <a href="/products/?category=supplements" class="category-card">
                <div class="category-icon">üíä</div>
                <h3>Supplements</h3>
                <p>Protein, vitamins & more</p>
            </a>
            <a href="/products/?category=activewear_male" class="category-card">
                <div class="category-icon">üëï</div>
                <h3>Men's Active Wear</h3>
                <p>Performance gear for men</p>
            </a>
            <a href="/products/?category=activewear_female" class="category-card">
                <div class="category-icon">üëö</div>
                <h3>Women's Active Wear</h3>
                <p>Stylish & comfortable</p>
            </a>
            <a href="/products/?category=equipment" class="category-card">
                <div class="category-icon">üèãÔ∏è</div>
                <h3>Gym Equipment</h3>
                <p>Home & professional gear</p>
            </a>
            <a href="/products/?category=meal_plan" class="category-card">
                <div class="category-icon">üìã</div>
                <h3>Meal Plans</h3>
                <p>Personalized nutrition</p>
            </a>
        </div>
    </section>
    
    <!-- Supplements Section -->
    {% if supplements %}
    <section class="category-section">
        <div class="section-header">
            <h2>Premium <span>Supplements</span></h2>
            <a href="/products/?category=supplements" class="view-all-link">View All ‚Üí</a>
        </div>
        <div class="products-grid">
            {% for product in supplements %}
            <div class="product-card">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                {% else %}
                    <img src="https://via.placeholder.com/300x200?text=No+Image" alt="No image">
                {% endif %}
                <div class="product-info">
                    <h3>{{ product.name }}</h3>
                    <p>{{ product.description|truncatewords:10 }}</p>
                    <div class="product-price">${{ product.price }}</div>
                    <a href="#" class="btn">View Details</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}
    
    <!-- Men's Active Wear Section -->
    {% if activewear_male %}
    <section class="category-section">
        <div class="section-header">
            <h2>Men's <span>Active Wear</span></h2>
            <a href="/products/?category=activewear_male" class="view-all-link">View All ‚Üí</a>
        </div>
        <div class="products-grid">
            {% for product in activewear_male %}
            <div class="product-card">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                {% else %}
                    <img src="https://via.placeholder.com/300x200?text=No+Image" alt="No image">
                {% endif %}
                <div class="product-info">
                    <h3>{{ product.name }}</h3>
                    <p>{{ product.description|truncatewords:10 }}</p>
                    <div class="product-price">${{ product.price }}</div>
                    <a href="#" class="btn">View Details</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}
    
    <!-- Women's Active Wear Section -->
    {% if activewear_female %}
    <section class="category-section">
        <div class="section-header">
            <h2>Women's <span>Active Wear</span></h2>
            <a href="/products/?category=activewear_female" class="view-all-link">View All ‚Üí</a>
        </div>
        <div class="products-grid">
            {% for product in activewear_female %}
            <div class="product-card">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                {% else %}
                    <img src="https://via.placeholder.com/300x200?text=No+Image" alt="No image">
                {% endif %}
                <div class="product-info">
                    <h3>{{ product.name }}</h3>
                    <p>{{ product.description|truncatewords:10 }}</p>
                    <div class="product-price">${{ product.price }}</div>
                    <a href="#" class="btn">View Details</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}
    
    <!-- Gym Equipment Section -->
    {% if equipment %}
    <section class="category-section">
        <div class="section-header">
            <h2>Gym <span>Equipment</span></h2>
            <a href="/products/?category=equipment" class="view-all-link">View All ‚Üí</a>
        </div>
        <div class="products-grid">
            {% for product in equipment %}
            <div class="product-card">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                {% else %}
                    <img src="https://via.placeholder.com/300x200?text=No+Image" alt="No image">
                {% endif %}
                <div class="product-info">
                    <h3>{{ product.name }}</h3>
                    <p>{{ product.description|truncatewords:10 }}</p>
                    <div class="product-price">${{ product.price }}</div>
                    <a href="#" class="btn">View Details</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}
    
    <!-- Meal Plans Section -->
    {% if meal_plans %}
    <section class="category-section">
        <div class="section-header">
            <h2>Meal <span>Plans</span></h2>
            <a href="/products/?category=meal_plan" class="view-all-link">View All ‚Üí</a>
        </div>
        <div class="products-grid">
            {% for product in meal_plans %}
            <div class="product-card">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                {% else %}
                    <img src="https://via.placeholder.com/300x200?text=No+Image" alt="No image">
                {% endif %}
                <div class="product-info">
                    <h3>{{ product.name }}</h3>
                    <p>{{ product.description|truncatewords:10 }}</p>
                    <div class="product-price">${{ product.price }}</div>
                    <a href="#" class="btn">View Details</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}
    
    <!-- Featured Products -->
    <section class="featured">
        <h2>Featured Products</h2>
        <div class="products-grid">
            {% for product in featured_products %}
            <div class="product-card">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                {% else %}
                    <img src="https://via.placeholder.com/300x200?text=No+Image" alt="No image">
                {% endif %}
                <div class="product-info">
                    <h3>{{ product.name }}</h3>
                    <p>{{ product.description|truncatewords:10 }}</p>
                    <div class="product-price">${{ product.price }}</div>
                    <a href="#" class="btn">View Details</a>
                </div>
            </div>
            {% empty %}
            <p style="grid-column: 1/-1; text-align: center; padding: 2rem;">No products available yet.</p>
            {% endfor %}
        </div>
        
        {% if featured_products %}
        <div class="view-all">
            <a href="{% url 'product_list' %}" class="btn">View All Products</a>
        </div>
        {% endif %}
    </section>
    
    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="about-content">
            <h2>About Evolve</h2>
            <p>We're passionate about helping you achieve your fitness goals with premium active wear designed for performance and comfort. Our mission is to provide athletes of all levels with gear that helps them evolve into their best selves.</p>
            <p style="margin-top: 1rem;">üìû Call/WhatsApp: <a href="https://wa.me/2348162887359" class="whatsapp-link">+234 816 288 7359</a></p>
        </div>
    </section>
    
    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <h3>Evolve Fitness</h3>
            <p>Premium Active Wear for Champions</p>
            <p>üìû <a href="https://wa.me/2348162887359" class="whatsapp-link">WhatsApp: +234 816 288 7359</a></p>
            <p>üìß info@evolvefitness.com</p>
            <p>&copy; 2026 Evolve Fitness. All rights reserved.</p>
        </div>
    </footer>
    
    <script>
        let slideIndex = 0;
        const slides = document.querySelector('.slides');
        const totalSlides = document.querySelectorAll('.slide').length;
        const dots = document.querySelectorAll('.dot');
        
        function updateSlides() {
            slides.style.transform = `translateX(-${slideIndex * 100}%)`;
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === slideIndex);
            });
        }
        
        function changeSlide(direction) {
            slideIndex = (slideIndex + direction + totalSlides) % totalSlides;
            updateSlides();
        }
        
        function currentSlide(index) {
            slideIndex = index;
            updateSlides();
        }
        
        // Auto advance slides every 5 seconds
        setInterval(() => {
            slideIndex = (slideIndex + 1) % totalSlides;
            updateSlides();
        }, 5000);
    </script>
</body>
</html>